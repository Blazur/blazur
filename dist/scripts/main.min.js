!function(){"use strict";var e=["$stateProvider","$urlRouterProvider","$httpProvider",function(e,t,n){n.interceptors.push("authInterceptor"),t.otherwise("/profile/history"),e.state("app",{"abstract":!0,template:"<ui-view />"})}],t=["$rootScope","$state","AuthFactory",function(e,t,n){e.$on("$stateChangeStart",function(e,r){n.isSignedIn(function(n){r.authenticate&&!n&&(e.preventDefault(),t.go("app.home.landing"))})})}];angular.module("app",["ngFx","ngResource","ui.router","app.home","app.user","app.profile"]).config(e).factory("authInterceptor",["$rootScope","$q","$cookieStore",function(e,t,n){return{request:function(e){return e.headers=e.headers||{},n.get("__devkeep")&&(e.headers.Authorization="Bearer "+n.get("__devkeep")),e}}}]).run(t).constant("API",{url:"http://localhost:3000"})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home",{"abstract":!0,controller:"HomeController",templateUrl:"scripts/home/home.tpl.html"})}];angular.module("app.home",["classy","app.home.landing","app.home.how","app.home.faq","app.home.directives","ngFx"]).config(e).classy.controller({name:"HomeController",inject:["$scope"],init:function(){this.$.reveal={color:"primary"},this.$.coords={},this.$.grow={message:"no"}},nevermind:function(){this.$.grow.message="reset",this.$.reveal.color="primary"}})}(),function(){"use strict";angular.module("app.home.directives",["app.home.directives.ripple","app.home.directives.reveal","app.home.directives.drawer","app.home.directives.paperButton","app.home.directives.materialize","app.home.directives.paperInput","app.home.directives.signinForm"])}(),function(){"use strict";angular.module("app.home.directives.materialize",[]).directive("materialize",["$compile","$templateCache",function(e){var t={accent:"primaryDark",primary:"accent",primaryDark:"primary"};return function(n,r){var o,i=angular.element('<paper-button ng-click="nevermind()" class="paper-button raised" ripple="accent" text="back"></paper-button>'),a=r.find("button"),c=_.filter(a,function(e){return angular.element(e).hasClass("paper-button")}),l={signin:angular.element("<signin-form></signin-form>"),join:angular.element('<div class="main"><div class="card card-form"><input paper-input class="paper-input"></div></div>')},s=function(){return new TimelineMax({onReverseComplete:function(){i.remove(),o.remove(),l={signin:angular.element("<signin-form></signin-form>"),join:angular.element('<div class="main"><div class="card card-form"><input paper-input class="paper-input"></div></div>')},p=s()}})},p=s();n.$watch("grow",function(a,s){if(s.message!==a.message){if("go"===a.message){var u=t[n.reveal.color];o=l[n.grow.form],i.css("opacity","0"),i.css("display","none"),i=e(i)(n),o=e(o)(n);var m,d=_.map(o.find("div"),function(e){var t;return angular.element(e).hasClass("card")?(m=angular.element(e),void 0):(t=angular.element(e),t.css("opacity","0"),t)}),f=o.find("button");f.css("opacity","0"),d.push(f),m.css("width","10px"),m.css("height","10px"),m.css("borderRadius","50%"),r.find("section").append(i),r.append(o),n.reveal.color=u,p.to(r,.8,{height:"600px",ease:Strong.easeInOut}).to(c,.5,{opacity:"0"},0).call(function(){return p.reversed()?(_.forEach(c,function(e){angular.element(e).css("display","block")}),i.css("display","none"),void 0):(_.forEach(c,function(e){angular.element(e).css("display","none")}),i.css("display","block"),void 0)}).to(i,.5,{opacity:"1"},1).to(m,.8,{width:"500px",height:"400px",borderRadius:"3px",ease:Strong.easeInOut},0).to(d,.3,{opacity:"1"},1)}"reset"===a.message&&p.timeScale(1.5).reverse()}},!0)}}])}(),function(){"use strict";angular.module("app.home.directives.drawer",[]).directive("drawer",[function(){function e(e,t){function n(){setTimeout(function(){a.classList.remove("open"),c.removeClass("open"),i.removeClass("open")},150)}function r(){setTimeout(function(){a.classList.toggle("open"),c.toggleClass("open"),i.toggleClass("open"),i.toggleClass("shadow-2-right"),i.addClass("opened")},200)}var o=t.children(),i=angular.element(o[1]),a=document.body,c=angular.element(o[0]),l=c.find("button")[0];l=angular.element(l);var s=angular.element(o[2]);s.on("click",n),l.on("click",r),i.on("click",function(e){("A"===e.target.nodeName||"LI"===e.target.nodeName)&&n()}),e.$on("$destroy",function(){s.off("click"),l.off("click"),i.off("click")})}return{controller:function(){this.coords={}},link:e}}])}(),function(){"use strict";angular.module("app.home.directives.signinForm",[]).directive("signinForm",["$templateCache","AuthFactory",function(e,t){function n(e){e.form={emailAttrs:{"ng-maxlength":"12","ng-minlength":"5"}},e.oauth=function(e){t.signinOauth(e)}}return{restrict:"EA",template:e.get("signinForm.html"),replace:!0,scope:{},link:n}}])}(),function(){"use strict";angular.module("app.home.directives.paperButton",[]).directive("paperButton",["$timeout","$compile",function(e){function t(t,n){var r=n.hasClass("raised");n.on("click",function(){r&&(n.addClass("active"),e(function(){n.removeClass("active")},300))}),t.$on("$destroy",function(){n.off("click")})}return{template:'<button class="paper-button">{{ text }}</button>',transclude:!0,restrict:"EA",link:t,replace:!0,scope:{text:"@"}}}])}(),function(){"use strict";angular.module("app.home.directives.paperInput",[]).directive("paperInput",["$templateCache","$compile",function(e){function t(e,t,n){e.type=n.type,e.label=n.label}return{restrict:"EA",template:e.get("paperInput.html"),replace:!0,scope:{value:"="},compile:function(e,n){var r={ngMaxlength:"ng-maxlength",ngMinlength:"ng-minlength",required:"required"},o=e.find("input");return _.forEach(n,function(e,t){t in r&&("required"===r[t]?o.attr("required","true"):o.attr(r[t],e||""))}),t}}}])}(),function(){"use strict";var e={primary:"#3f51b5",primaryDark:"#1a237e",primaryLight:"#7986cb",accent:"#00e5ff",white:"white",accentLight:"#18ffff"},t={accent:"white",primary:"accent",accentDark:"white",accentLight:"primaryDark"};angular.module("app.home.directives.reveal",[]).directive("reveal",function(){function n(n,r,o,i){var a=o.duration||.5,c=r[0].tagName;if("HEADER"===c){var l=r.find("button");if(l[0].offsetParent)return r.removeAttr("ripple"),void 0}n.$watch("reveal",function(n,o){if(n.color!==o.color){var c=e[n.color||n]||"lightgray",l=e[o.color],s=angular.element("<div></div>"),p=1.9*r[0].clientWidth,u={opacity:"0"};p*=1.2,angular.extend(u,{height:p+"px",width:p+"px",marginTop:-p/2+"px",marginLeft:-p/2+"px",ease:Sine.easeIn,onComplete:function(){s.remove()}}),i.coords.x=i.coords.x||123,s.addClass("touch"),s.css({position:"absolute",top:126-r[0].getBoundingClientRect().top+"px",left:i.coords.x-r[0].getBoundingClientRect().left+"px",width:"0",height:"0",background:c,opacity:"0.5"}),r.append(s);var m,d=new TimelineMax;d.to(s,a,{height:p+"px",width:p+"px",marginTop:-p/2+"px",marginLeft:-p/2+"px",ease:Expo.easeOut}).to(s,a,{opacity:"0",onComplete:function(){s.remove()}},0),angular.element(document.body).find("nav").css("border-top","2px solid "+e[t[n.color]]),m=r.children()[0],TweenMax.fromTo([r,m],a,{backgroundColor:l},{backgroundColor:c+"!important"},1)}},!0)}return{require:"^drawer",link:n}})}(),function(){"use strict";var e={primary:"#3f51b5",primaryDark:"#1a237e",primaryLight:"#7986cb",accent:"#00e5ff",white:"white",accentLight:"#18ffff"};angular.module("app.home.directives.ripple",[]).directive("ripple",function(){function t(t,n,r,o){var i=e[r.ripple]||"lightgray",a=r.duration||.5,c=n[0].tagName,l=n.find("button");if("HEADER"===c&&l.hasClass("menu")&&l[0].offsetParent)return n.removeAttr("ripple"),void 0;var s=function(e){var t=angular.element("<div></div>");o&&(o.coords.x=e.pageX);var r=1.9*n[0].clientWidth,c=!1;angular.element(document).on("mouseup",function(){var e={opacity:"0"};c&&(r*=1.2,angular.extend(e,{height:r+"px",width:r+"px",marginTop:-r/2+"px",marginLeft:-r/2+"px",ease:Sine.easeIn,onComplete:function(){t.remove()}})),TweenMax.to(t,a,e)});var l=e.pageY-n[0].getBoundingClientRect().top+"px",s=e.pageX-n[0].getBoundingClientRect().left+"px";t.addClass("touch"),t.css({position:"absolute",top:l,left:s,width:"0",height:"0",background:i,opacity:"0.2"}),n.append(t),TweenMax.to(t,a,{height:r+"px",width:r+"px",marginTop:-r/2+"px",marginLeft:-r/2+"px",ease:Expo.easeOut,onComplete:function(){c=!0}})};n.on("mousedown",s)}return{require:"^?drawer",link:t}})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home.landing",{url:"/",controller:"LandingController",templateUrl:"scripts/home/landing/landing.tpl.html"})}];angular.module("app.home.landing",["classy"]).config(e).classy.controller({name:"LandingController",init:function(){this.$.reveal.color="primary"},inject:["$scope"]})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home.how",{url:"/how-it-works",templateUrl:"scripts/home/how/how.tpl.html",controller:"HowController"})}];angular.module("app.home.how",["classy"]).config(e).classy.controller({name:"HowController",inject:["$scope"],init:function(){this.$.reveal.color="primary"}})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home.faq",{url:"/faq",controller:"FaqController",templateUrl:"scripts/home/faq/faq.tpl.html"})}];angular.module("app.home.faq",["classy"]).config(e).classy.controller({name:"FaqController",inject:["$scope"],init:function(){this.$.reveal.color="primary"}})}(),function(){"use strict";angular.module("app.user",["app.user.auth","app.user.resource"])}(),function(){"use strict";angular.module("app.user.auth",["ngCookies"]).factory("AuthFactory",["$http","$window","$state","$cookieStore","$q","$interval","API","User",function(e,t,n,r,o,i,a,c){var l={};r.get("__devkeep")&&(l=c.get());var s={getCurrentUser:function(){return l},signout:function(){r.remove("__devkeep"),l={},n.go("app.home.landing")},isSignedIn:function(e){l.hasOwnProperty("$promise")?l.$promise.then(function(){e(!0)}).catch(function(){e(!1)}):l.hasOwnProperty("email")?e(!0):e(!1)},getToken:function(){return r.get("__devkeep")},signinOauth:function(e){function o(){var e=i(function(){if(!p||p.closed){var t;t=r.get("__devkeep"),t&&(l=c.get(),n.go("app.profile")),i.cancel(e)}},500)}var s="location=0,status0,modal=yes,alwaysRaised=yes,width=800,height=600",p=t.open(a.url+"/auth/"+e,"_blank",s);o()}};return s}])}(),function(){"use strict";angular.module("app.user.resource",[]).factory("User",["$resource","API",function(e,t){return e(t.url+"/api/users/:id/:controller",{id:"@_id"},{get:{method:"GET",params:{id:"me"}}})}])}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.profile",{url:"/profile",templateUrl:"profile.html",controller:"ProfileController",authenticate:!0})}];angular.module("app.profile",["classy","app.profile.post","app.profile.history","app.profile.settings"]).config(e).classy.controller({name:"ProfileController",init:function(){this.AuthFactory.getCurrentUser().$promise.then(function(e){this.$.user=e,this.$.hasMessages=!!this.$.user.messages.length}.bind(this))},creditCard:{},inject:["$scope","$state","AuthFactory"]})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.profile.post",{url:"/post-a-job",templateUrl:"profile/post-a-job.html",controller:"PostController",authenticate:!0,animation:{speed:"600",ease:"strong",leave:"shrink-out",enter:"shrink-in"}})}];angular.module("app.profile.post",["classy"]).config(e).directive("newJob",[function(){return{restrict:"EA",replace:!0,templateUrl:"new-job.html",scope:{},link:function(e,t){e.job={stage:""};var n=t.find("input");n.on("focus",function(){TweenMax.to(t,.5,{height:"500px",ease:Strong.easeInOut,onComplete:function(){e.ready=!0,e.$apply()}})}),n.on("blur",function(){e.job.title||e.job.price||(e.ready=!1,e.$apply(),TweenMax.to(t,.5,{height:"62px",ease:Strong.easeInOut}))})}}}]).classy.controller({name:"PostController",init:function(){},inject:["$scope"]})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.profile.history",{url:"/history",templateUrl:"profile/history.html",controller:"HistoryController",authenticate:!0,animation:{speed:"600",ease:"strong",leave:"grow-in",enter:"shrink-out"}})}];angular.module("app.profile.history",["classy"]).config(e).classy.controller({name:"HistoryController",init:function(){},inject:["$scope"]})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.profile.settings",{url:"/settings",templateUrl:"profile/settings.html",controller:"SettingsController",authenticate:!0,animation:{speed:"600",ease:"strong",leave:"shrink-out",enter:"shrink-in"}})}];angular.module("app.profile.settings",["classy"]).config(e).directive("creditCard",[function(){return{restrict:"EA",replace:!0,templateUrl:"credit-card.html",scope:{},link:function(e,t){e.creditCard={},e.saveCreditCard=function(e){console.log("Saving Credit Card =>",e)};var n=t.find("input"),r=angular.element(document.getElementById("cc-name")).children();r.on("focus",function(){TweenMax.to(t,.5,{height:"600px",ease:Strong.easeInOut,onComplete:function(){e.number=!0,e.$apply()}})});var o=angular.element(document.getElementById("cc-number")).children();o.on("focus",function(){TweenMax.to(t,.5,{height:"600px",ease:Strong.easeInOut,onComplete:function(){e.cvv=!0,e.$apply()}})});var i=angular.element(document.getElementById("cc-cvv")).children();i.on("focus",function(){TweenMax.to(t,.5,{height:"600px",ease:Strong.easeInOut,onComplete:function(){e.expiration=!0,e.$apply()}})});var a=angular.element(document.getElementById("cc-expiration")).children();a.on("focus",function(){TweenMax.to(t,.5,{height:"600px",ease:Strong.easeInOut,onComplete:function(){e.submit=!0,e.$apply()}})}),n.on("blur",function(){e.creditCard.name||e.creditCard.number||(e.ready=!1,e.number=!1,e.cvv=!1,e.expiration=!1,e.submit=!1,e.$apply(),TweenMax.to(t,.5,{height:"62px",ease:Strong.easeInOut}))})}}}]).classy.controller({name:"SettingsController",init:function(){},inject:["$scope"]})}();