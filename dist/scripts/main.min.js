!function(){"use strict";var e=["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("app",{"abstract":!0,template:"<ui-view />"})}],t=["$rootScope","$state","UserFactory",function(){}];angular.module("app",["ngFx","ui.router","app.home","app.user"]).config(e).run(t).value("API",function(){var e={dev:"http://localhost:4000",prod:"",checkTokenUrl:function(t){return e[t]+"/validate"}};return e})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home",{"abstract":!0,controller:"HomeController",templateUrl:"scripts/home/home.tpl.html"})}];angular.module("app.home",["classy","app.home.landing","app.home.how","app.home.faq","app.home.directives","ngFx"]).config(e).classy.controller({name:"HomeController",inject:["$scope"],init:function(){this.$.reveal={color:"primary"},this.$.coords={},this.$.grow={message:"no"}},nevermind:function(){this.$.grow.message="reset",this.$.reveal.color="primary"}})}(),function(){"use strict";angular.module("app.home.directives",["app.home.directives.ripple","app.home.directives.reveal","app.home.directives.drawer","app.home.directives.paperButton","app.home.directives.materialize","app.home.directives.paperInput","app.home.directives.signinForm"])}(),function(){"use strict";angular.module("app.home.directives.materialize",[]).directive("materialize",["$compile","$templateCache",function(e){var t={accent:"primaryDark",primary:"accent",primaryDark:"primary"};return function(n,a){var o,r=angular.element('<div ng-click="nevermind()" paper-button class="paper-button raised" ripple="accent">back</div>'),i=a.find("div"),c=_.filter(i,function(e){return angular.element(e).hasClass("paper-button")}),s={signin:angular.element("<signin-form></signin-form>"),join:angular.element('<div class="main"><div class="card card-form"><input paper-input class="paper-input"></div></div>')},l=function(){return new TimelineMax({onReverseComplete:function(){r.remove(),o.remove(),s={signin:angular.element("<signin-form></signin-form>"),join:angular.element('<div class="main"><div class="card card-form"><input paper-input class="paper-input"></div></div>')},p=l()}})},p=l();n.$watch("grow",function(i,l){if(l.message!==i.message){if("go"===i.message){var u=t[n.reveal.color];o=s[n.grow.form],r.css("opacity","0"),r.css("display","none"),r=e(r)(n),o=e(o)(n),o.css("opacity","0"),o.css("display","none");var d,m=_.map(o.find("div"),function(e){var t;return angular.element(e).hasClass("card")?(d=angular.element(e),void 0):(t=angular.element(e),t.css("opacity","0"),t)});d.css("width","10px"),d.css("height","10px"),d.css("borderRadius","50%"),a.find("section").append(r),a.append(o),n.reveal.color=u,p.to(a,.8,{height:"600px",ease:Expo.easeInOut}).to(c,.5,{opacity:"0"},0).call(function(){return p.reversed()?(_.forEach(c,function(e){angular.element(e).css("display","block")}),r.css("display","none"),o.css("display","none"),void 0):(_.forEach(c,function(e){angular.element(e).css("display","none")}),r.css("display","block"),o.css("display","block"),void 0)}).to(r,.5,{opacity:"1"},1).to(o,.5,{opacity:"1"},1).to(d,.8,{width:"500px",height:"400px",borderRadius:"3px",ease:Expo.easeInOut},1).to(m,.8,{opacity:"1"},2)}"reset"===i.message&&p.timeScale(2).reverse()}},!0)}}])}(),function(){"use strict";angular.module("app.home.directives.drawer",[]).directive("drawer",[function(){function e(e,t){function n(){setTimeout(function(){i.classList.remove("open"),c.removeClass("open"),r.removeClass("open")},150)}function a(){setTimeout(function(){i.classList.toggle("open"),c.toggleClass("open"),r.toggleClass("open"),r.toggleClass("shadow-2-right"),r.addClass("opened")},200)}var o=t.children(),r=angular.element(o[1]),i=document.body,c=angular.element(o[0]),s=c.find("button"),l=angular.element(o[2]);l.on("click",n),s.on("click",a),r.on("click",function(e){("A"===e.target.nodeName||"LI"===e.target.nodeName)&&n()}),e.$on("$destroy",function(){l.off("click"),s.off("click"),r.off("click")})}return{controller:function(){this.coords={}},link:e}}])}(),function(){"use strict";angular.module("app.home.directives.signinForm",[]).directive("signinForm",["$templateCache","UserFactory",function(e,t){function n(e){e.form={emailAttrs:{"ng-maxlength":"12","ng-minlength":"5",required:"true"}},e.oauth=function(e){t.signinOauth(e)}}return{restrict:"EA",template:e.get("signinForm.html"),replace:!0,scope:{},link:n}}])}(),function(){"use strict";angular.module("app.home.directives.paperButton",[]).directive("paperButton",["$timeout","$compile",function(e){function t(t,n,a){var o=a.ripple,r=n.hasClass("raised");a.$observe("disabled",function(){a.disabled||o||a.$set("ripple","accent")}),n.on("click",function(){r&&(n.addClass("active"),e(function(){n.removeClass("active")},300))}),t.$on("$destroy",function(){n.off("click")})}return{template:'<div class="paper-button" ng-transclude></div>',transclude:!0,restrict:"EA",link:t,replace:!0}}])}(),function(){"use strict";angular.module("app.home.directives.paperInput",[]).directive("paperInput",["$templateCache","$compile",function(e){function t(e,t,n){e.type=n.type}return{restrict:"EA",template:e.get("paperInput.html"),replace:!0,scope:{value:"=",attrs:"="},transclude:!0,link:t}}])}(),function(){"use strict";var e={primary:"#3f51b5",primaryDark:"#1a237e",primaryLight:"#7986cb",accent:"#00e5ff",white:"white",accentLight:"#18ffff"},t={accent:"white",primary:"accent",accentDark:"white",accentLight:"primaryDark"};angular.module("app.home.directives.reveal",[]).directive("reveal",function(){function n(n,a,o,r){var i=o.duration||.5,c=a[0].tagName;if("HEADER"===c){var s=a.find("button");if(s[0].offsetParent)return a.removeAttr("ripple"),void 0}n.$watch("reveal",function(n,o){if(n.color!==o.color){var c=e[n.color||n]||"lightgray",s=e[o.color],l=angular.element("<div></div>"),p=1.9*a[0].clientWidth,u={opacity:"0"};p*=1.2,angular.extend(u,{height:p+"px",width:p+"px",marginTop:-p/2+"px",marginLeft:-p/2+"px",ease:Sine.easeIn,onComplete:function(){l.remove()}}),r.coords.x=r.coords.x||123,l.addClass("touch"),l.css({position:"absolute",top:126-a[0].getBoundingClientRect().top+"px",left:r.coords.x-a[0].getBoundingClientRect().left+"px",width:"0",height:"0",background:c,opacity:"0.5"}),a.append(l);var d,m=new TimelineMax;m.to(l,i,{height:p+"px",width:p+"px",marginTop:-p/2+"px",marginLeft:-p/2+"px",ease:Expo.easeOut}).to(l,i,{opacity:"0",onComplete:function(){l.remove()}},0),angular.element(document.body).find("nav").css("border-top","2px solid "+e[t[n.color]]),d=a.children()[0],TweenMax.fromTo([a,d],i,{backgroundColor:s},{backgroundColor:c+"!important"},1)}},!0)}return{require:"^drawer",link:n}})}(),function(){"use strict";var e={primary:"#3f51b5",primaryDark:"#1a237e",primaryLight:"#7986cb",accent:"#00e5ff",white:"white",accentLight:"#18ffff"};angular.module("app.home.directives.ripple",[]).directive("ripple",function(){function t(t,n,a,o){var r=e[a.ripple]||"lightgray",i=a.duration||.5,c=n[0].tagName;if("HEADER"===c){var s=n.find("button");if(s.hasClass("menu")&&s[0].offsetParent)return n.removeAttr("ripple"),void 0}var l=function(e){var t=angular.element("<div></div>");o&&(o.coords.x=e.pageX);var a=1.9*n[0].clientWidth,c=!1;angular.element(document).on("mouseup",function(){var e={opacity:"0"};c&&(a*=1.2,angular.extend(e,{height:a+"px",width:a+"px",marginTop:-a/2+"px",marginLeft:-a/2+"px",ease:Sine.easeIn,onComplete:function(){t.remove()}})),TweenMax.to(t,i,e)});var s=e.pageY-n[0].getBoundingClientRect().top+"px",l=e.pageX-n[0].getBoundingClientRect().left+"px";t.addClass("touch"),t.css({position:"absolute",top:s,left:l,width:"0",height:"0",background:r,opacity:"0.2"}),n.append(t),TweenMax.to(t,i,{height:a+"px",width:a+"px",marginTop:-a/2+"px",marginLeft:-a/2+"px",ease:Expo.easeOut,onComplete:function(){c=!0}})};n.on("mousedown",l)}return{require:"^?drawer",link:t}})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home.landing",{url:"/",controller:"LandingController",templateUrl:"scripts/home/landing/landing.tpl.html"})}];angular.module("app.home.landing",["classy"]).config(e).classy.controller({name:"LandingController",init:function(){this.$.reveal.color="primary"},inject:["$scope"]})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home.how",{url:"/how-it-works",templateUrl:"scripts/home/how/how.tpl.html",controller:"HowController"})}];angular.module("app.home.how",["classy"]).config(e).classy.controller({name:"HowController",inject:["$scope"],init:function(){this.$.reveal.color="primary"}})}(),function(){"use strict";var e=["$stateProvider",function(e){e.state("app.home.faq",{url:"/faq",controller:"FaqController",templateUrl:"scripts/home/faq/faq.tpl.html"})}];angular.module("app.home.faq",["classy"]).config(e).classy.controller({name:"FaqController",inject:["$scope"],init:function(){this.$.reveal.color="primary"}})}(),function(){"use strict";angular.module("app.user",["app.user.services"])}(),function(){"use strict";angular.module("app.user.services",["ngCookies"]).factory("UserFactory",["$http","$window","$state","$cookies",function(e,t,n,a){var o={signout:function(){t.localStorage.removeItem("__devkeep"),n.go("app.home.landing")},isSignedIn:function(){return!!t.localStorage.getItem("__devkeep")},signinOauth:function(e){var n="location=0,status0,modal=yes,alwaysRaised=yes,width=800,height=600",o=t.open("http://localhost:3000/auth/"+e,"_blank",n);o.onunload=function(){var e=a.__devkeep;e&&(console.log("got token"),t.localStorage.setItem("__devkeep",e))}}};return o}])}();